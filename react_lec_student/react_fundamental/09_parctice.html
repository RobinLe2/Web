<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <title>Todo List</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const TodoAppend = ({ description, onChange, onClick }) => {
        return (
          <div className="todo-append">
            <label htmlFor="description"> í•  ì¼ ì„¸ë¶€ ë‚´ìš©</label>
            <input
              type="text"
              id="description"
              value={description}
              onChange={onChange}
            />
            <button type="button" onClick={onClick}>
              ì¶”ê°€
            </button>
          </div>
        );
      };

      const TodoListItem = ({ todo, onCheckboxChange, onDeleteClick }) => {
        return (
          <div className="todo">
            <input type="checkbox" id={todo.todoNo} onChange={onChange} />
            <label
              htmlFor={todo.todoNo}
              style={{ textDecoration: todo.isDone ? "line-through" : none }}
            >
              {todo.description}
            </label>
            <button type="button" data-todo-no={todo.todoNo} onClick={onClick}>
              X
            </button>
          </div>
        );
      };

      const TodoList = () => {
        // state
        const [todos, setTodos] = React.useState([]); //-- í•  ì¼ ë¦¬ìŠ¤íŠ¸
        const [todo, setTodo] = React.useState({
          //-- í•  ì¼
          todoNo: 1,
          description: "",
          isDone: false,
        });

        // description ì…ë ¥ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
        const onDescriptionChange = (e) => {
          setTodo({
            ...todo, // ê¸°ì¡´ todoë¥¼ ëª¨ë‘ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.
            description: e.target.value, // description ê°’ì„ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ìœ¼ë¡œ ë®ì–´ì“°ê¸°í•©ë‹ˆë‹¤.
          });
        };
        // ì¶”ê°€ ë²„íŠ¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
        const onAddClick = (e) => {
          if (todo.description.trim() === "") {
            alert("í•  ì¼ ì„¸ë¶€ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.");
            return;
          }
          setTodos(todos.concat(todo)); //-- todos ë°°ì—´ì— todoë¥¼ ì—°ê²°í•œ ìƒˆë¡œìš´ ë°°ì—´ì„ ì „ë‹¬í•©ë‹ˆë‹¤.
          setTodo({
            //-- todo ì´ˆê¸°í™”
            todoNo: todo.todoNo + 1,
            description: "",
            isDone: false,
          });
        };

        //ì²´í¬ë°•ìŠ¤ ì²´í¬ ë³€ê²½ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
        const onCheckboxChange = (e) => {
          setTodos(
            todos.map((todo) => {
              // ì•„ë˜ divë¥¼ <TodoListItem> ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•´ë³´ì„¸ìš”
              <TodoListItem
                key={todo.todoNo}
                todo={todo}
                onChange={onCheckboxChange}
                onClick={onDeleteClick}
              />;

              if (e.target.id == todo.todoNo) {
                //--- ì²´í¬í•œ í•­ëª©ê³¼ ì¼ì¹˜í•˜ëŠ” todoë¥¼ ì°¾ìŠµë‹ˆë‹¤.  if(Number(e.target.id) === todo.todoNo)  e.target.idëŠ” ë¬¸ìì—´ì´ê³  todo.todoNoì€ ìˆ«ìì—¬ì„œ ===ìœ¼ë¡œ í•˜ë©´ ë™ì‘í•˜ì§€ ì•ŠìŒ.
                return { ...todo, isDone: e.target.checked }; //-- ì™„ë£Œ ì—¬ë¶€ë¥¼ ì²´í¬ë˜ì–´ìˆìœ¼ë©´ trueë¡œ ì•„ë‹ˆë©´ falseë¡œ ì—†ë°ì´íŠ¸í•©ë‹ˆë‹¤.
              }
              return todo;
            })
          );
        };
        // ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
        const onDeleteClick = (e) => {
          setTodos(
            todos.filter((todo) => e.target.dataset.todoNo != todo.todoNo)
          );
        };
        return (
          <>
            <TodoAppend
              description={todo.description}
              onChange={onDescriptionChange}
              onClick={onAddClick}
            />
            <div className="todos">
              {todos.map((t) => (
                <div className="todos">
                  {todos.map((todo) => (
                    <TodoListItem
                      key={t.todoNo}
                      todo={t}
                      onCheckboxChange={onCheckboxChange}
                      onDeleteClick={onDeleteClick}
                    />
                  ))}
                </div>
              ))}
            </div>
          </>
        );
      };

      const TodoHeader = () => {
        return (
          <div className="header">
            <h1>ì˜¤ëŠ˜ì˜ TodoList ({new Date().toLocaleDateString()})</h1>
          </div>
        );
      };

      const TodoBody = () => {
        return (
          <div className="body">
            <TodoList />
          </div>
        );
      };

      const TodoFooter = () => {
        return (
          <div className="footer">
            <p>Copyright 2025. ALL rights reserved.</p>
          </div>
        );
      };

      const TodoApp = () => {
        return (
          <>
            <TodoHeader />
            <TodoBody />
            <TodoFooter />
          </>
        );
      };

      ReactDOM.createRoot(document.getElementById("root")).render(<TodoApp />);
    </script>

    <div id="root2"></div>
    <script type="text/babel">
      //ì—°ìŠµ) ì¢‹ì•„ìš” ë²„íŠ¼
      //      ëˆ„ë¥¼ë•Œë§ˆë‹¤ ë²„íŠ¼ í…ìŠ¤íŠ¸ê°€ "ì¢‹ì•„ìš”", "ì‹«ì–´ìš”"ê°€ ë°˜ë³µë˜ë„ë¡ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•˜ì„¸ìš”.

      const Likebutton = () => {
        //state
        const [isLike, setIsLike] = React.useState(false);

        //ì´ë²¤íŠ¸
        const clickHandler = (e) => {
          setIsLike(!isLike);
        };

        return (
          <button type="button" onClick={clickHandler}>
            {isLike ? "ğŸ˜Š" : "ğŸ˜’"}
          </button>
        );
      };

      ReactDOM.createRoot(document.getElementById("root2")).render(
        <Likebutton />
      );
    </script>

    <div id="root3"></div>
    <script type="text/babel">
      //ì—°ìŠµ) ë°°ì—´ì— ê°’ ì¶”ê°€í•˜ê¸°
      //      "1 ì¶”ê°€" ë²„íŠ¼ í´ë¦­ -> ë°°ì—´ì— 1ì¶”ê°€ => "2ì¶”ê°€" ë²„íŠ¼ í´ë¦­ => ë°°ì—´ì— 2 ì¶”ê°€ => ....
      //      ë°°ì—´ì— ì €ì¥ëœ ëª¨ë“  ìš”ì†Œë¥¼ í™”ë©´ì— ì¶œë ¥í•˜ì„¸ìš”

      const ArrayList = () => {
        //state
        const [number, setNumber] = React.useState(1);
        const [numbers, setNumbers] = React.useState([]);

        //ì´ë²¤íŠ¸
        const handleClick = (e) => {
          setNumber(number + 1);
          setNumbers([...numbers, number]);
        };
        return (
          <>
            <button onClick={handleClick}>{number} ì¶”ê°€ </button>
            <div>
              {numbers.map((number, i) => (
                <span key={i} style={{ marginRight: 10 }}>
                  {number}
                </span>
              ))}
            </div>
          </>
        );
      };
      ReactDOM.createRoot(document.getElementById("root3")).render(
        <ArrayList />
      );
    </script>

    <div id="root4"></div>
    <script type="text/babel">
      //ì—°ìŠµ ) íœ´ëŒ€ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥ ë°›ëŠ” ì…ë ¥ìƒìë¥¼ ë°˜í™˜í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•˜ì„¸ìš”.
      //       íœ´ëŒ€ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥ í•  ë–„ í•˜ì´í”ˆ('-')ì„ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ì§€ì›Œë²„ë¦¬ì„¸ìš”.
      //       Stringì˜ replace í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ëª¨ë“  í•˜ì´í”ˆ('-')ì„ ë¹ˆ ë¬¸ìì—´('')ë¡œ ë°”ê¾¸ì‹œë©´ ë©ë‹ˆë‹¤.

      const InputPhone = () => {
        //state
        const [phoneNumber, setPhoneNumber] = React.useState("");

        //event
        const handleChange = (e) => {
          //ì…ë ¥ê°’ì—ì„œ ëª¨ë“  í•˜ì´í”ˆ(-) ì œê±°í•œ ê°’ì„ setPhoneNumber()ì—ê²Œ ì „ë‹¬
          setPhoneNumber(e.target.value.replace("-", "").substring(0, 11));
        };
        return (
          <>
            <input
              type="text"
              value={phoneNumber}
              onChange={handleChange}
              placeholder="íœ´ëŒ€ì „í™”ë²ˆí˜¸ ì…ë ¥"
            />
            <h1>{phoneNumber}</h1>
          </>
        );
      };
      ReactDOM.createRoot(document.getElementById("root4")).render(
        <InputPhone />
      );
    </script>
    <div id="root5"></div>
    <script type="text/babel">
      //ì—°ìŠµ) ì…ë ¥ìƒìì— ì…ë ¥í•œ ê°’ê³¼ ì…ë ¥í•˜ê¸° ì´ì „ì— ì…ë ¥ë˜ì–´ ìˆë˜ ê°’ì„ ëª¨ë‘ ì¶œë ¥í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•˜ì„¸ìš”/
      //      í™”ë©´ì—ëŠ” í˜„ì¬ ì…ë ¥í•œ ê°’ê³¼ ì´ì „ì— ì…ë ¥ë˜ì–´ ìˆë˜ ê°’ì„ ëª¨ë‘ ì¶œë ¥í•˜ì„¸ìš”.

      const PrintBox = () => {
        // state
        const [now, setNow] = React.useState("");
        const [prev, setPrev] = React.useState("");

        //event
        const handleChange = (e) => {
          setNow(e.target.value);
          setPrev(now);
        };
        return (
          <>
            <input
              type="text"
              value={now}
              onChange={handleChange}
              placeholder="ì…ë ¥í•˜ì‹œì˜¤"
            />
            <h1>í˜„ì¬ ê°’ :{now}</h1>
            <h1>ì´ì „ ê°’ :{prev}</h1>
          </>
        );
      };
      ReactDOM.createRoot(document.getElementById("root5")).render(
        <PrintBox />
      );
    </script>

    <div id="root6"></div>
    <script type="text/babel">
      //     ì—°ìŠµ) ë²„íŠ¼ 3ê°œë¥¼ í™”ë©´ì— í‘œì‹œí•˜ì„¸ìš”  "ìŠ¤ìœ„ì¹˜1 OFF" / "ìŠ¤ìœ„ì¹˜2 OFF" / "ìŠ¤ìœ„ì¹˜3 OFF"
      //           ê° ìŠ¤ìœ„ì¹˜ë¥¼ í´ë¦­í•  ë•Œë§ˆë‹¤ ON/OFF ë¥¼ ë°”ê¾¸ì„¸ìš”, stateëŠ” í•˜ë‚˜ì˜ ë°°ì—´ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.
      const OnButton = () => {
        //state
        const [onOff, setOnOFF] = React.useState([false, false, false]);
        //event
        const handleClick = (e) => {};

        return (
          <>
            {onOff.map((value, index) => (
              <button key={index} onClick={() => handleClick(index)}>
                ìŠ¤ìœ„ì¹˜{index + 1} {value ? "ON" : "OFF"}
              </button>
            ))}
          </>
        );
      };
      ReactDOM.createRoot(document.getElementById("root6")).render(
        <OnButton />
      );
    </script>
  </body>
</html>
